# 修改禁推属性<a name="topic_updateStreamForbidden"></a>

## 功能介绍<a name="section16536643113614"></a>

修改禁推属性

## 调试<a name="section853716434364"></a>

您可以在[API Explorer](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=Live&api=UpdateStreamForbidden)中调试该接口。

## URI<a name="section1537124316366"></a>

PUT /v1/\{project\_id\}/stream/blocks

**表 1**  路径参数

<a name="table175391439361"></a>
<table><thead align="left"><tr id="row1853874393611"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p13539194316364"><a name="p13539194316364"></a><a name="p13539194316364"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10%" id="mcps1.2.5.1.2"><p id="p155395436363"><a name="p155395436363"></a><a name="p155395436363"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p754064310364"><a name="p754064310364"></a><a name="p754064310364"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.5.1.4"><p id="p65409434368"><a name="p65409434368"></a><a name="p65409434368"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row10538114393611"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p0540143143617"><a name="p0540143143617"></a><a name="p0540143143617"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p154144333616"><a name="p154144333616"></a><a name="p154144333616"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p115411643183613"><a name="p115411643183613"></a><a name="p115411643183613"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p8542943183611"><a name="p8542943183611"></a><a name="p8542943183611"></a>项目ID，获取方法请参考<a href="https://support.huaweicloud.com/api-live/live_03_0023.html" target="_blank" rel="noopener noreferrer">获取项目ID</a>。</p>
</td>
</tr>
</tbody>
</table>

## 请求参数<a name="section1154244343618"></a>

**表 2**  请求Header参数

<a name="HeaderParameter"></a>
<table><thead align="left"><tr id="row7543184312369"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p55431943103613"><a name="p55431943103613"></a><a name="p55431943103613"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10%" id="mcps1.2.5.1.2"><p id="p185446435361"><a name="p185446435361"></a><a name="p185446435361"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1954417433365"><a name="p1954417433365"></a><a name="p1954417433365"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.5.1.4"><p id="p75443436362"><a name="p75443436362"></a><a name="p75443436362"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row35432434363"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1545114317368"><a name="p1545114317368"></a><a name="p1545114317368"></a>X-Auth-Token</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p9545144316361"><a name="p9545144316361"></a><a name="p9545144316361"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p4546543123616"><a name="p4546543123616"></a><a name="p4546543123616"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p17546154363617"><a name="p17546154363617"></a><a name="p17546154363617"></a>用户Token。 通过调用IAM服务获取用户Token接口获取（响应消息头中X-Subject-Token的值）。</p>
</td>
</tr>
</tbody>
</table>

**表 3**  请求Body参数

<a name="requestParameter"></a>
<table><thead align="left"><tr id="row95461943113613"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p105471243163618"><a name="p105471243163618"></a><a name="p105471243163618"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10%" id="mcps1.2.5.1.2"><p id="p17548204393613"><a name="p17548204393613"></a><a name="p17548204393613"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1854834343611"><a name="p1854834343611"></a><a name="p1854834343611"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.5.1.4"><p id="p12548194311365"><a name="p12548194311365"></a><a name="p12548194311365"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row75476431362"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p3549143183611"><a name="p3549143183611"></a><a name="p3549143183611"></a>domain</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p1454915436369"><a name="p1454915436369"></a><a name="p1454915436369"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p75504437362"><a name="p75504437362"></a><a name="p75504437362"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p18550543113620"><a name="p18550543113620"></a><a name="p18550543113620"></a>直播播放域名或推流域名</p>
</td>
</tr>
<tr id="row1654712434368"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p855044316366"><a name="p855044316366"></a><a name="p855044316366"></a>app_name</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p8551104310365"><a name="p8551104310365"></a><a name="p8551104310365"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p6551184343610"><a name="p6551184343610"></a><a name="p6551184343610"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p255144313620"><a name="p255144313620"></a><a name="p255144313620"></a>应用名称</p>
</td>
</tr>
<tr id="row6547174363617"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p3552443123619"><a name="p3552443123619"></a><a name="p3552443123619"></a>stream_name</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p19552134315365"><a name="p19552134315365"></a><a name="p19552134315365"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p105531643193616"><a name="p105531643193616"></a><a name="p105531643193616"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p4553104333614"><a name="p4553104333614"></a><a name="p4553104333614"></a>流名称</p>
</td>
</tr>
<tr id="row1154754318363"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p125531643203616"><a name="p125531643203616"></a><a name="p125531643203616"></a>resume_time</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p16554124353617"><a name="p16554124353617"></a><a name="p16554124353617"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1255418432369"><a name="p1255418432369"></a><a name="p1255418432369"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p05559435367"><a name="p05559435367"></a><a name="p05559435367"></a>恢复流时间，格式：yyyy-mm-ddThh:mm:ssZ，UTC时间，不指定则永久禁推</p>
</td>
</tr>
</tbody>
</table>

## 响应参数<a name="section205551843153611"></a>

**状态码为 400 时:**

**表 4**  响应Body参数

<a name="responseParameter"></a>
<table><thead align="left"><tr id="row9556194383610"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p3556174310365"><a name="p3556174310365"></a><a name="p3556174310365"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p16557143163611"><a name="p16557143163611"></a><a name="p16557143163611"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p20557154312363"><a name="p20557154312363"></a><a name="p20557154312363"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1155612439362"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p115581143193613"><a name="p115581143193613"></a><a name="p115581143193613"></a>error_code</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p2558843163611"><a name="p2558843163611"></a><a name="p2558843163611"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p155804363613"><a name="p155804363613"></a><a name="p155804363613"></a>错误码</p>
</td>
</tr>
<tr id="row455684373611"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p115591743143620"><a name="p115591743143620"></a><a name="p115591743143620"></a>error_msg</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p16559144343617"><a name="p16559144343617"></a><a name="p16559144343617"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p655911431366"><a name="p655911431366"></a><a name="p655911431366"></a>错误描述</p>
</td>
</tr>
</tbody>
</table>

## 请求示例<a name="section20560543143619"></a>

```
POST https://{endpoint}/v1/{project_id}/stream/blocks

{
  "domain" : "publish.example.huawei.com",
  "app_name" : "live",
  "stream_name" : "huawei",
  "resume_time" : "2018-05-19T21:10:15Z"
}
```

## 响应示例<a name="section1656320432366"></a>

**状态码为 400 时:**

修改禁推属性操作失败

```
{
  "error_code" : "LIVE.100011001",
  "error_msg" : "Request Illegal"
}
```

## 状态码<a name="section1856524312360"></a>

<a name="table2065"></a>
<table><thead align="left"><tr id="row115661443173611"><th class="cellrowborder" valign="top" width="15%" id="mcps1.1.3.1.1"><p id="p1356611439363"><a name="p1356611439363"></a><a name="p1356611439363"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="85%" id="mcps1.1.3.1.2"><p id="p4566144333611"><a name="p4566144333611"></a><a name="p4566144333611"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1056616439367"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p165676433369"><a name="p165676433369"></a><a name="p165676433369"></a>204</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p256764310366"><a name="p256764310366"></a><a name="p256764310366"></a>修改禁推属性操作成功</p>
</td>
</tr>
<tr id="row05661543193615"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p18567243173614"><a name="p18567243173614"></a><a name="p18567243173614"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p16568194313615"><a name="p16568194313615"></a><a name="p16568194313615"></a>修改禁推属性操作失败</p>
</td>
</tr>
</tbody>
</table>

## 错误码<a name="section55686432366"></a>

请参见[错误码](错误码.md)。

