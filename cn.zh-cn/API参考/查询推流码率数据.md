# 查询推流码率数据<a name="QuerySingleStreamBitrate"></a>

## 功能描述<a name="section53220535218"></a>

查询推流监控码率数据接口。

最大查询跨度1天，最大查询周期7天。

## 请求URI<a name="section13323185310211"></a>

GET /v1/\{[project\_id](获取项目ID.md)\}/stats/stream/bitrate

## 请求参数<a name="section93377536219"></a>

<a name="table184762052143915"></a>
<table><thead align="left"><tr id="row447612528391"><th class="cellrowborder" valign="top" width="20.380000000000003%" id="mcps1.1.5.1.1"><p id="p84765529396"><a name="p84765529396"></a><a name="p84765529396"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20.380000000000003%" id="mcps1.1.5.1.2"><p id="p1447615528392"><a name="p1447615528392"></a><a name="p1447615528392"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="50.949999999999996%" id="mcps1.1.5.1.3"><p id="p174763523393"><a name="p174763523393"></a><a name="p174763523393"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="8.290000000000001%" id="mcps1.1.5.1.4"><p id="p147635217391"><a name="p147635217391"></a><a name="p147635217391"></a>是否必选</p>
</th>
</tr>
</thead>
<tbody><tr id="row13476952193913"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p7476115233918"><a name="p7476115233918"></a><a name="p7476115233918"></a>domain_name</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p1447725253910"><a name="p1447725253910"></a><a name="p1447725253910"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p15477652153917"><a name="p15477652153917"></a><a name="p15477652153917"></a>推流域名。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p20477135212390"><a name="p20477135212390"></a><a name="p20477135212390"></a>是</p>
</td>
</tr>
<tr id="row1047785213394"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p2047711523392"><a name="p2047711523392"></a><a name="p2047711523392"></a>app_name</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p047735218397"><a name="p047735218397"></a><a name="p047735218397"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p94771552153912"><a name="p94771552153912"></a><a name="p94771552153912"></a>应用名称。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p147775253915"><a name="p147775253915"></a><a name="p147775253915"></a>是</p>
</td>
</tr>
<tr id="row204771352163914"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p17477155293914"><a name="p17477155293914"></a><a name="p17477155293914"></a>stream_name</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p16477052163912"><a name="p16477052163912"></a><a name="p16477052163912"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p147755214395"><a name="p147755214395"></a><a name="p147755214395"></a>直播流名称。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p3477852173913"><a name="p3477852173913"></a><a name="p3477852173913"></a>是</p>
</td>
</tr>
<tr id="row84778523390"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p194771552133917"><a name="p194771552133917"></a><a name="p194771552133917"></a>interval</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p1647785263916"><a name="p1647785263916"></a><a name="p1647785263916"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p123801331113220"><a name="p123801331113220"></a><a name="p123801331113220"></a>查询数据的时间粒度。</p>
<p id="p947715526397"><a name="p947715526397"></a><a name="p947715526397"></a>可选值：1秒。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p124778529397"><a name="p124778529397"></a><a name="p124778529397"></a>否</p>
</td>
</tr>
<tr id="row13477135215399"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p15477115210391"><a name="p15477115210391"></a><a name="p15477115210391"></a>start_time</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p174771552163910"><a name="p174771552163910"></a><a name="p174771552163910"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p33095330329"><a name="p33095330329"></a><a name="p33095330329"></a>起始时间。</p>
<p id="p94771152123919"><a name="p94771152123919"></a><a name="p94771152123919"></a>Unix时间戳，默认查询最近1小时内的数据，如1577894400，最大查询跨度1天，最大查询周期7天。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p15477852143919"><a name="p15477852143919"></a><a name="p15477852143919"></a>否</p>
</td>
</tr>
<tr id="row1747725211396"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p1647755214397"><a name="p1647755214397"></a><a name="p1647755214397"></a>end_time</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p17477155219393"><a name="p17477155219393"></a><a name="p17477155219393"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p95117357322"><a name="p95117357322"></a><a name="p95117357322"></a>结束时间。</p>
<p id="p1782593673214"><a name="p1782593673214"></a><a name="p1782593673214"></a>Unix时间戳，默认使用当前时间，如1577894400，最大查询跨度1天，最大查询周期7天的数据。</p>
<p id="p194771752183916"><a name="p194771752183916"></a><a name="p194771752183916"></a>结束时间需大于起始时间。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p1247795212396"><a name="p1247795212396"></a><a name="p1247795212396"></a>否</p>
</td>
</tr>
</tbody>
</table>

## 请求样例<a name="section10268108393"></a>

```
GET /v1/{project_id}/stats/stream/bitrate?app_name=live&stream_name=pull_stream&domain_name=example.huawei.com
```

## 返回参数<a name="section10340453172112"></a>

-   **查询推流码率数据成功**

    **表 1**  响应Body参数

    <a name="responseParameter"></a>
    <table><thead align="left"><tr id="row534115352114"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p93421953162119"><a name="p93421953162119"></a><a name="p93421953162119"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p14342125362112"><a name="p14342125362112"></a><a name="p14342125362112"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p8342353112114"><a name="p8342353112114"></a><a name="p8342353112114"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row73411053152114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p123431453152115"><a name="p123431453152115"></a><a name="p123431453152115"></a>bitrate_info_list</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p123434531212"><a name="p123434531212"></a><a name="p123434531212"></a>Array of <a href="#response_BitrateInfo">BitrateInfo</a> objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p834325302110"><a name="p834325302110"></a><a name="p834325302110"></a>码率信息列表。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 2**  BitrateInfo

    <a name="response_BitrateInfo"></a>
    <table><thead align="left"><tr id="row173441538219"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p15345553142116"><a name="p15345553142116"></a><a name="p15345553142116"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p1534695310212"><a name="p1534695310212"></a><a name="p1534695310212"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p17346185314214"><a name="p17346185314214"></a><a name="p17346185314214"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row934415535216"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p7346953112111"><a name="p7346953112111"></a><a name="p7346953112111"></a>domain_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p19347135318212"><a name="p19347135318212"></a><a name="p19347135318212"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p163471753192119"><a name="p163471753192119"></a><a name="p163471753192119"></a>推流域名。</p>
    </td>
    </tr>
    <tr id="row15344205310214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1834719539215"><a name="p1834719539215"></a><a name="p1834719539215"></a>app_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p143481453162120"><a name="p143481453162120"></a><a name="p143481453162120"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1934813534214"><a name="p1934813534214"></a><a name="p1934813534214"></a>应用名称。</p>
    </td>
    </tr>
    <tr id="row1234415372115"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p334895382116"><a name="p334895382116"></a><a name="p334895382116"></a>stream_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p13481653152120"><a name="p13481653152120"></a><a name="p13481653152120"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1934915372119"><a name="p1934915372119"></a><a name="p1934915372119"></a>直播流名称。</p>
    </td>
    </tr>
    <tr id="row734411538219"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p2034995313216"><a name="p2034995313216"></a><a name="p2034995313216"></a>start_time</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p5349155362116"><a name="p5349155362116"></a><a name="p5349155362116"></a>Long</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p4561459344"><a name="p4561459344"></a><a name="p4561459344"></a>采样起始时间。</p>
    <p id="p15350553192112"><a name="p15350553192112"></a><a name="p15350553192112"></a>Unix时间戳，如1577894400。</p>
    </td>
    </tr>
    <tr id="row1534412535215"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p15350105315212"><a name="p15350105315212"></a><a name="p15350105315212"></a>end_time</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p3350125316219"><a name="p3350125316219"></a><a name="p3350125316219"></a>Long</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p041310614346"><a name="p041310614346"></a><a name="p041310614346"></a>采样结束时间。</p>
    <p id="p43500538218"><a name="p43500538218"></a><a name="p43500538218"></a>unix时间戳，如1577894400。</p>
    </td>
    </tr>
    <tr id="row1734514537219"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p9351853172118"><a name="p9351853172118"></a><a name="p9351853172118"></a>data_list</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p53515535215"><a name="p53515535215"></a><a name="p53515535215"></a>Array of integers</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p20351115342117"><a name="p20351115342117"></a><a name="p20351115342117"></a>码率信息列表。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   **查询推流码率数据失败**

    **表 3**  响应Body参数

    <a name="table19352125317215"></a>
    <table><thead align="left"><tr id="row135210538217"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p11353115332114"><a name="p11353115332114"></a><a name="p11353115332114"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p4353165362116"><a name="p4353165362116"></a><a name="p4353165362116"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p53531653162113"><a name="p53531653162113"></a><a name="p53531653162113"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1235215332111"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1354185322119"><a name="p1354185322119"></a><a name="p1354185322119"></a>error_code</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1235455362117"><a name="p1235455362117"></a><a name="p1235455362117"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p735495382111"><a name="p735495382111"></a><a name="p735495382111"></a>错误码。</p>
    </td>
    </tr>
    <tr id="row14352155302117"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p5355145319219"><a name="p5355145319219"></a><a name="p5355145319219"></a>error_msg</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p83551453112111"><a name="p83551453112111"></a><a name="p83551453112111"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1235516534210"><a name="p1235516534210"></a><a name="p1235516534210"></a>错误描述。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 返回样例<a name="section2356195322118"></a>

-   处理成功返回（返回200）

    ```
    {
      "bitrate_info_list" : [ {
        "domain_name" : "example.huawei.com",
        "app_name" : "app",
        "stream_name" : "pull_stream",
        "start_time" : 1577894400,
        "end_time" : 1577895600,
        "data_list" : [ 100.01, 200.01 ]
      } ]
    }
    ```

-   处理失败返回（其他响应码，如返回400）

    ```
    {
      "error_code" : "LIVE.100011001",
      "error_msg" : "请求参数非法：domain_name。"
    }
    ```


## 状态码<a name="section53611553112114"></a>

状态码请参见[状态码](状态码.md)。

## 错误码<a name="section17363185312110"></a>

错误码请参见[错误码](https://apierrorcenter.developer.huaweicloud.com/apierrorcenter/errorcode?product=Live&locale=zh-cn)。

