# 查询播放域名带宽趋势<a name="QueryDomainBandwidthDetail"></a>

## 功能描述<a name="section1475011166198"></a>

查询播放域名带宽数据。

最大查询跨度31天，最大查询周期90天。

## 请求URI<a name="section15751916171910"></a>

GET /v1/\{[project\_id](获取项目ID.md)\}/stats/domain/bandwidth/detail

## 请求参数<a name="section1576451612195"></a>

<a name="table14406115413013"></a>
<table><thead align="left"><tr id="row44062547308"><th class="cellrowborder" valign="top" width="20.380000000000003%" id="mcps1.1.5.1.1"><p id="p8406185483017"><a name="p8406185483017"></a><a name="p8406185483017"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20.380000000000003%" id="mcps1.1.5.1.2"><p id="p204061454103016"><a name="p204061454103016"></a><a name="p204061454103016"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="50.949999999999996%" id="mcps1.1.5.1.3"><p id="p5406115453011"><a name="p5406115453011"></a><a name="p5406115453011"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="8.290000000000001%" id="mcps1.1.5.1.4"><p id="p1840614548306"><a name="p1840614548306"></a><a name="p1840614548306"></a>是否必选</p>
</th>
</tr>
</thead>
<tbody><tr id="row204064541300"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p64061154183014"><a name="p64061154183014"></a><a name="p64061154183014"></a>domain_name</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p640714547309"><a name="p640714547309"></a><a name="p640714547309"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p640785420305"><a name="p640785420305"></a><a name="p640785420305"></a>播放域名列表。</p>
<p id="p1732413165811"><a name="p1732413165811"></a><a name="p1732413165811"></a><strong id="b510615824010"><a name="b510615824010"></a><a name="b510615824010"></a>取值范围</strong>：[1,10]。</p>
<p id="p134746229017"><a name="p134746229017"></a><a name="p134746229017"></a>传多个值返回的是多个域名合并后的数据。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p9406205410308"><a name="p9406205410308"></a><a name="p9406205410308"></a>否</p>
</td>
</tr>
<tr id="row6407135415309"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p104072054133018"><a name="p104072054133018"></a><a name="p104072054133018"></a>interval</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p1040765417302"><a name="p1040765417302"></a><a name="p1040765417302"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p469012569586"><a name="p469012569586"></a><a name="p469012569586"></a>查询数据的时间粒度。支持设置为300、 3600和86400秒。</p>
<p id="p9129155182213"><a name="p9129155182213"></a><a name="p9129155182213"></a>默认值：300。</p>
<p id="p140755413016"><a name="p140755413016"></a><a name="p140755413016"></a>不传值时，使用默认值300秒。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p18407185493014"><a name="p18407185493014"></a><a name="p18407185493014"></a>否</p>
</td>
</tr>
<tr id="row940755483013"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p14407145411304"><a name="p14407145411304"></a><a name="p14407145411304"></a>start_time</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p16407105483011"><a name="p16407105483011"></a><a name="p16407105483011"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p112522205911"><a name="p112522205911"></a><a name="p112522205911"></a>起始时间。</p>
<p id="p440725414308"><a name="p440725414308"></a><a name="p440725414308"></a>Unix时间戳，默认查询最近7天内的数据，如1577894400，最大查询跨度31天，最大查询周期90天。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p12407185443018"><a name="p12407185443018"></a><a name="p12407185443018"></a>否</p>
</td>
</tr>
<tr id="row11407115463012"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p14407205453015"><a name="p14407205453015"></a><a name="p14407205453015"></a>end_time</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p540785417302"><a name="p540785417302"></a><a name="p540785417302"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p19134144105913"><a name="p19134144105913"></a><a name="p19134144105913"></a>结束时间。</p>
<p id="p119318441235"><a name="p119318441235"></a><a name="p119318441235"></a>Unix时间戳，默认使用当前时间，如1577894400，最大查询跨度31天，最大查询周期90天。</p>
<p id="p144071554153018"><a name="p144071554153018"></a><a name="p144071554153018"></a>结束时间需大于起始时间。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p20407175412305"><a name="p20407175412305"></a><a name="p20407175412305"></a>否</p>
</td>
</tr>
<tr id="row2407185423012"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p1540795473011"><a name="p1540795473011"></a><a name="p1540795473011"></a>isp</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p340755463011"><a name="p340755463011"></a><a name="p340755463011"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p2407185412308"><a name="p2407185412308"></a><a name="p2407185412308"></a>运营商列表，取值如下：</p>
<a name="ul4407115413302"></a><a name="ul4407115413302"></a><ul id="ul4407115413302"><li>"BGP：BGP"。</li><li>"CMCC ：移动"。</li><li>"CT ： 电信"。</li><li>"CUCC ：联通"。</li><li>"SSP：小运营商"。</li><li>"OT：其他"。</li></ul>
<p id="p134075540304"><a name="p134075540304"></a><a name="p134075540304"></a>不填写则查询所有运营商。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p134071154153018"><a name="p134071154153018"></a><a name="p134071154153018"></a>否</p>
</td>
</tr>
<tr id="row1540711541307"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p84081545303"><a name="p84081545303"></a><a name="p84081545303"></a>state</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p1640811548305"><a name="p1640811548305"></a><a name="p1640811548305"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p1340825443013"><a name="p1340825443013"></a><a name="p1340825443013"></a>区域列表。<a href="省份名称缩写.md">取值参考</a>，不填写则查询所有区域。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p14408195433014"><a name="p14408195433014"></a><a name="p14408195433014"></a>否</p>
</td>
</tr>
</tbody>
</table>

## 请求样例<a name="section2059017471869"></a>

```
GET /v1/{project_id}/stats/domain/bandwidth/detail?domain_name=play.example.com&start_time=1585732970&end_time=1586337770
```

## 返回参数<a name="section9768151616197"></a>

-   **查询播放带宽趋势成功**

    **表 1**  响应Body参数

    <a name="responseParameter"></a>
    <table><thead align="left"><tr id="row376915163194"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p8770151681911"><a name="p8770151681911"></a><a name="p8770151681911"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p19770616121915"><a name="p19770616121915"></a><a name="p19770616121915"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p5771316101916"><a name="p5771316101916"></a><a name="p5771316101916"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row2769111611911"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1877112167196"><a name="p1877112167196"></a><a name="p1877112167196"></a>data_list</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p8771151615190"><a name="p8771151615190"></a><a name="p8771151615190"></a>Array of <a href="#response_BandwidthTimestampData">BandwidthTimestampData</a> objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p167721316131917"><a name="p167721316131917"></a><a name="p167721316131917"></a>采样数据列表。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 2**  BandwidthTimestampData

    <a name="response_BandwidthTimestampData"></a>
    <table><thead align="left"><tr id="row277241631914"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p1177461601917"><a name="p1177461601917"></a><a name="p1177461601917"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p977431621911"><a name="p977431621911"></a><a name="p977431621911"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p1777461620191"><a name="p1777461620191"></a><a name="p1777461620191"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row9773116161916"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p577515166192"><a name="p577515166192"></a><a name="p577515166192"></a>timestamp</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p20775121615193"><a name="p20775121615193"></a><a name="p20775121615193"></a>Long</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p147130117281"><a name="p147130117281"></a><a name="p147130117281"></a>采样时间。</p>
    <p id="p18775161618199"><a name="p18775161618199"></a><a name="p18775161618199"></a>Unix时间戳，如1577894400。</p>
    </td>
    </tr>
    <tr id="row197731016121910"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p18776216171910"><a name="p18776216171910"></a><a name="p18776216171910"></a>value</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p8776171619198"><a name="p8776171619198"></a><a name="p8776171619198"></a>Long</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p3365344288"><a name="p3365344288"></a><a name="p3365344288"></a>采样值。</p>
    <p id="p197761216111919"><a name="p197761216111919"></a><a name="p197761216111919"></a>单位为bps。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   **查询播放带宽趋势失败**

    **表 3**  响应Body参数

    <a name="table177775165190"></a>
    <table><thead align="left"><tr id="row1977711661910"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p277914168195"><a name="p277914168195"></a><a name="p277914168195"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p1177916162197"><a name="p1177916162197"></a><a name="p1177916162197"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p1078071631917"><a name="p1078071631917"></a><a name="p1078071631917"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row1778516131914"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p10780616121919"><a name="p10780616121919"></a><a name="p10780616121919"></a>error_code</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p67806166193"><a name="p67806166193"></a><a name="p67806166193"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p107811016191911"><a name="p107811016191911"></a><a name="p107811016191911"></a>错误码。</p>
    </td>
    </tr>
    <tr id="row14778161611193"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1078161631915"><a name="p1078161631915"></a><a name="p1078161631915"></a>error_msg</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p11781151612195"><a name="p11781151612195"></a><a name="p11781151612195"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p278171651918"><a name="p278171651918"></a><a name="p278171651918"></a>错误描述。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 返回样例<a name="section278281611910"></a>

-   处理成功返回（返回200）

    ```
    {
      "data_list" : [ {
        "timestamp" : 1585732970,
        "value" : 0
      }, {
        "timestamp" : 1585732971,
        "value" : 325
      } ]
    }
    ```

-   处理失败返回（其他响应码，如返回400）

    ```
    {
      "error_code" : "LIVE.100011001",
      "error_msg" : "请求参数非法：domain_name。"
    }
    ```


## 状态码<a name="section17869166198"></a>

状态码请参见[状态码](状态码.md)。

## 错误码<a name="section1778931614193"></a>

错误码请参见[错误码](live_03_0022.md)。

