# 查询播放流量汇总<a name="QueryDomainTrafficSummary"></a>

## 功能描述<a name="section816419355191"></a>

查询指定时间范围内流量汇总量。

最大查询跨度31天，最大查询周期90天。

## 请求URI<a name="section5165835151915"></a>

GET /v1/\{[project\_id](获取项目ID.md)\}/stats/domain/traffic/summary

## 请求参数<a name="section7183235151912"></a>

<a name="table17487113603714"></a>
<table><thead align="left"><tr id="row1548783615376"><th class="cellrowborder" valign="top" width="20.380000000000003%" id="mcps1.1.5.1.1"><p id="p848743693711"><a name="p848743693711"></a><a name="p848743693711"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20.380000000000003%" id="mcps1.1.5.1.2"><p id="p1748783617371"><a name="p1748783617371"></a><a name="p1748783617371"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="50.949999999999996%" id="mcps1.1.5.1.3"><p id="p114874363371"><a name="p114874363371"></a><a name="p114874363371"></a>描述</p>
</th>
<th class="cellrowborder" valign="top" width="8.290000000000001%" id="mcps1.1.5.1.4"><p id="p948710361378"><a name="p948710361378"></a><a name="p948710361378"></a>是否必选</p>
</th>
</tr>
</thead>
<tbody><tr id="row1948773643716"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p648714367375"><a name="p648714367375"></a><a name="p648714367375"></a>domain_name</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p248720364371"><a name="p248720364371"></a><a name="p248720364371"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p24881736103712"><a name="p24881736103712"></a><a name="p24881736103712"></a>域名列表。</p>
<p id="p9984115144618"><a name="p9984115144618"></a><a name="p9984115144618"></a><strong id="b102101312418"><a name="b102101312418"></a><a name="b102101312418"></a>取值范围</strong>：[1,10]。</p>
<p id="p0673115465919"><a name="p0673115465919"></a><a name="p0673115465919"></a>传多个值返回的是多个域名合并后的数据。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p1748733613712"><a name="p1748733613712"></a><a name="p1748733613712"></a>否</p>
</td>
</tr>
<tr id="row5488193683713"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p1848815361371"><a name="p1848815361371"></a><a name="p1848815361371"></a>start_time</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p20488336173711"><a name="p20488336173711"></a><a name="p20488336173711"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p741932165912"><a name="p741932165912"></a><a name="p741932165912"></a>起始时间。</p>
<p id="p19488536163719"><a name="p19488536163719"></a><a name="p19488536163719"></a>Unix时间戳，如1577894400，最长可查询90天内的数据。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p20488173603719"><a name="p20488173603719"></a><a name="p20488173603719"></a>否</p>
</td>
</tr>
<tr id="row10488123613371"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p148883643712"><a name="p148883643712"></a><a name="p148883643712"></a>end_time</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p54887363378"><a name="p54887363378"></a><a name="p54887363378"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p52718346596"><a name="p52718346596"></a><a name="p52718346596"></a>结束时间。</p>
<p id="p14385122016274"><a name="p14385122016274"></a><a name="p14385122016274"></a>Unix时间戳，默认使用当前时间，如1577894400，最长可查询90天内的数据。</p>
<p id="p1848810366379"><a name="p1848810366379"></a><a name="p1848810366379"></a>结束时间需大于起始时间。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p14881236153711"><a name="p14881236153711"></a><a name="p14881236153711"></a>否</p>
</td>
</tr>
<tr id="row14488193612376"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p194884368372"><a name="p194884368372"></a><a name="p194884368372"></a>isp</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p20488103613375"><a name="p20488103613375"></a><a name="p20488103613375"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p164882369375"><a name="p164882369375"></a><a name="p164882369375"></a>运营商列表，取值如下：</p>
<a name="ul1048873663716"></a><a name="ul1048873663716"></a><ul id="ul1048873663716"><li>"BGP：BGP"。</li><li>"CMCC ：移动"。</li><li>"CT ： 电信"。</li><li>"CUCC ：联通"。</li><li>"SSP：小运营商"。</li><li>"OT：其他"。</li></ul>
<p id="p048810366374"><a name="p048810366374"></a><a name="p048810366374"></a>不填写则查询所有运营商。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p14888364376"><a name="p14888364376"></a><a name="p14888364376"></a>否</p>
</td>
</tr>
<tr id="row11488436113712"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p24885367379"><a name="p24885367379"></a><a name="p24885367379"></a>state</p>
</td>
<td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.2 "><p id="p548818365378"><a name="p548818365378"></a><a name="p548818365378"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="50.949999999999996%" headers="mcps1.1.5.1.3 "><p id="p94880367374"><a name="p94880367374"></a><a name="p94880367374"></a>区域列表。<a href="省份名称缩写.md">取值参考</a>，不填写则查询所有区域。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p16488173653714"><a name="p16488173653714"></a><a name="p16488173653714"></a>否</p>
</td>
</tr>
</tbody>
</table>

## 请求样例<a name="section83851211283"></a>

```
GET /v1/{project_id}/stats/domain/traffic/summary?start_time=1577894400&end_time=1577895700
```

## 返回参数<a name="section1018843591916"></a>

-   **查询播放流量汇总成功**

    **表 1**  响应Body参数

    <a name="responseParameter"></a>
    <table><thead align="left"><tr id="row181891735161912"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p191891735131920"><a name="p191891735131920"></a><a name="p191891735131920"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p4190835191911"><a name="p4190835191911"></a><a name="p4190835191911"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p1119013512199"><a name="p1119013512199"></a><a name="p1119013512199"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row4189035111919"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p9190113515198"><a name="p9190113515198"></a><a name="p9190113515198"></a>summary_list</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p17191235101910"><a name="p17191235101910"></a><a name="p17191235101910"></a>Array of <a href="#response_TrafficSummaryData">TrafficSummaryData</a> objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p181911635161910"><a name="p181911635161910"></a><a name="p181911635161910"></a>域名对应的流量汇总列表。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 2**  TrafficSummaryData

    <a name="response_TrafficSummaryData"></a>
    <table><thead align="left"><tr id="row919110352198"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p1019223518197"><a name="p1019223518197"></a><a name="p1019223518197"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p919223518196"><a name="p919223518196"></a><a name="p919223518196"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p8193133531910"><a name="p8193133531910"></a><a name="p8193133531910"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row16191103501915"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1819433551910"><a name="p1819433551910"></a><a name="p1819433551910"></a>value</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p3194183517190"><a name="p3194183517190"></a><a name="p3194183517190"></a>Long</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p89919471487"><a name="p89919471487"></a><a name="p89919471487"></a>流量。</p>
    <p id="p1219413352197"><a name="p1219413352197"></a><a name="p1219413352197"></a>单位为byte。</p>
    </td>
    </tr>
    <tr id="row91921335141915"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p6194235141916"><a name="p6194235141916"></a><a name="p6194235141916"></a>domain_name</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p2195183551920"><a name="p2195183551920"></a><a name="p2195183551920"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p101951035121919"><a name="p101951035121919"></a><a name="p101951035121919"></a>域名。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   **查询播放流量汇总失败**

    **表 3**  响应Body参数

    <a name="table219593511917"></a>
    <table><thead align="left"><tr id="row41964358197"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p19196113512195"><a name="p19196113512195"></a><a name="p19196113512195"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p10197143518194"><a name="p10197143518194"></a><a name="p10197143518194"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p919723518197"><a name="p919723518197"></a><a name="p919723518197"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row619673512192"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1019711356198"><a name="p1019711356198"></a><a name="p1019711356198"></a>error_code</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1197183521916"><a name="p1197183521916"></a><a name="p1197183521916"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p7198183591912"><a name="p7198183591912"></a><a name="p7198183591912"></a>错误码。</p>
    </td>
    </tr>
    <tr id="row51968351194"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p111981835191911"><a name="p111981835191911"></a><a name="p111981835191911"></a>error_msg</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1419813514196"><a name="p1419813514196"></a><a name="p1419813514196"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p2198235131910"><a name="p2198235131910"></a><a name="p2198235131910"></a>错误描述。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 返回样例<a name="section16199935201917"></a>

-   处理成功返回（返回200）

    ```
    {
      "summary_list" : [ {
        "value" : 2300,
        "domain_name" : "example.huawei.com"
      } ]
    }
    ```

-   处理失败返回（其他响应码，如返回400）

    ```
    {
      "error_code" : "LIVE.100011001",
      "error_msg" : "请求参数非法：domain_name。"
    }
    ```


## 状态码<a name="section1320293519196"></a>

状态码请参见[状态码](状态码.md)。

## 错误码<a name="section62059357197"></a>

错误码请参见[错误码](https://apierrorcenter.developer.huaweicloud.com/apierrorcenter/errorcode?product=Live&locale=zh-cn)。

