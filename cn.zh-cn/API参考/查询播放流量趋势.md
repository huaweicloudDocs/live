# 查询播放流量趋势<a name="QueryDomainTrafficDetail"></a>

## 功能描述<a name="section208472162196"></a>

查询播放域名流量数据。

最大查询跨度31天，最大查询周期90天。

## 请求URI<a name="section1484841617192"></a>

GET /v1/\{[project\_id](获取项目ID.md)\}/stats/domain/traffic/detail

## 请求参数<a name="section5863316171916"></a>

<a name="table61521958163111"></a>
<table><thead align="left"><tr id="row5152105815317"><th class="cellrowborder" valign="top" width="20.380000000000003%" id="mcps1.1.5.1.1"><p id="p1715211587315"><a name="p1715211587315"></a><a name="p1715211587315"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="18.04%" id="mcps1.1.5.1.2"><p id="p7152195812318"><a name="p7152195812318"></a><a name="p7152195812318"></a>类型</p>
</th>
<th class="cellrowborder" valign="top" width="53.290000000000006%" id="mcps1.1.5.1.3"><p id="p14152258123110"><a name="p14152258123110"></a><a name="p14152258123110"></a>说明</p>
</th>
<th class="cellrowborder" valign="top" width="8.290000000000001%" id="mcps1.1.5.1.4"><p id="p315215819312"><a name="p315215819312"></a><a name="p315215819312"></a>是否必选</p>
</th>
</tr>
</thead>
<tbody><tr id="row715285810312"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p915235820311"><a name="p915235820311"></a><a name="p915235820311"></a>domain_name</p>
</td>
<td class="cellrowborder" valign="top" width="18.04%" headers="mcps1.1.5.1.2 "><p id="p1152165815316"><a name="p1152165815316"></a><a name="p1152165815316"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="53.290000000000006%" headers="mcps1.1.5.1.3 "><p id="p1266776183915"><a name="p1266776183915"></a><a name="p1266776183915"></a>域名列表。</p>
<p id="p64574531803"><a name="p64574531803"></a><a name="p64574531803"></a><strong id="b412073994014"><a name="b412073994014"></a><a name="b412073994014"></a>取值范围</strong>：[1,10]。</p>
<p id="p14152258113112"><a name="p14152258113112"></a><a name="p14152258113112"></a>传多个值返回的是多个域名合并后的数据。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p19152958193113"><a name="p19152958193113"></a><a name="p19152958193113"></a>否</p>
</td>
</tr>
<tr id="row515325819311"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p41531058153111"><a name="p41531058153111"></a><a name="p41531058153111"></a>interval</p>
</td>
<td class="cellrowborder" valign="top" width="18.04%" headers="mcps1.1.5.1.2 "><p id="p15153145843118"><a name="p15153145843118"></a><a name="p15153145843118"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="53.290000000000006%" headers="mcps1.1.5.1.3 "><p id="p12899714105910"><a name="p12899714105910"></a><a name="p12899714105910"></a>查询数据的时间粒度。支持300、3600和86400秒。</p>
<p id="p1476916477249"><a name="p1476916477249"></a><a name="p1476916477249"></a>默认值：300。</p>
<p id="p2015385819311"><a name="p2015385819311"></a><a name="p2015385819311"></a>不传值时，使用默认值300秒。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p1215315812318"><a name="p1215315812318"></a><a name="p1215315812318"></a>否</p>
</td>
</tr>
<tr id="row615325893112"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p2153175843117"><a name="p2153175843117"></a><a name="p2153175843117"></a>start_time</p>
</td>
<td class="cellrowborder" valign="top" width="18.04%" headers="mcps1.1.5.1.2 "><p id="p915335803116"><a name="p915335803116"></a><a name="p915335803116"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="53.290000000000006%" headers="mcps1.1.5.1.3 "><p id="p195071516135913"><a name="p195071516135913"></a><a name="p195071516135913"></a>起始时间。</p>
<p id="p515385819316"><a name="p515385819316"></a><a name="p515385819316"></a>Unix时间戳，默认查询最近7天内的数据，如1577894400，最长可查询90天内的数据。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p13153145810312"><a name="p13153145810312"></a><a name="p13153145810312"></a>否</p>
</td>
</tr>
<tr id="row7153195819312"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p14153155813114"><a name="p14153155813114"></a><a name="p14153155813114"></a>end_time</p>
</td>
<td class="cellrowborder" valign="top" width="18.04%" headers="mcps1.1.5.1.2 "><p id="p10153258153117"><a name="p10153258153117"></a><a name="p10153258153117"></a>Long</p>
</td>
<td class="cellrowborder" valign="top" width="53.290000000000006%" headers="mcps1.1.5.1.3 "><p id="p176741917135916"><a name="p176741917135916"></a><a name="p176741917135916"></a>结束时间。</p>
<p id="p2094855292518"><a name="p2094855292518"></a><a name="p2094855292518"></a>Unix时间戳，默认使用当前时间，如1577894400，最长可查询90天内的数据。</p>
<p id="p315345819313"><a name="p315345819313"></a><a name="p315345819313"></a>结束时间需大于起始时间。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p71531258173119"><a name="p71531258173119"></a><a name="p71531258173119"></a>否</p>
</td>
</tr>
<tr id="row1415395863119"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p515315588315"><a name="p515315588315"></a><a name="p515315588315"></a>isp</p>
</td>
<td class="cellrowborder" valign="top" width="18.04%" headers="mcps1.1.5.1.2 "><p id="p1315355816312"><a name="p1315355816312"></a><a name="p1315355816312"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="53.290000000000006%" headers="mcps1.1.5.1.3 "><p id="p1915395843117"><a name="p1915395843117"></a><a name="p1915395843117"></a>运营商列表，取值如下：</p>
<a name="ul61531358103115"></a><a name="ul61531358103115"></a><ul id="ul61531358103115"><li>"BGP：BGP"。</li><li>"CMCC ：移动"。</li><li>"CT ： 电信"。</li><li>"CUCC ：联通"。</li><li>"SSP：小运营商"。</li><li>"OT：其他"。</li></ul>
<p id="p1415395819312"><a name="p1415395819312"></a><a name="p1415395819312"></a>不填写则查询所有运营商。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p9153125812317"><a name="p9153125812317"></a><a name="p9153125812317"></a>否</p>
</td>
</tr>
<tr id="row9153145853114"><td class="cellrowborder" valign="top" width="20.380000000000003%" headers="mcps1.1.5.1.1 "><p id="p1815325811315"><a name="p1815325811315"></a><a name="p1815325811315"></a>state</p>
</td>
<td class="cellrowborder" valign="top" width="18.04%" headers="mcps1.1.5.1.2 "><p id="p11535588313"><a name="p11535588313"></a><a name="p11535588313"></a>ARRAY</p>
</td>
<td class="cellrowborder" valign="top" width="53.290000000000006%" headers="mcps1.1.5.1.3 "><p id="p41531458173114"><a name="p41531458173114"></a><a name="p41531458173114"></a>区域列表。<a href="省份名称缩写.md">取值参考</a>，不填写则查询所有区域。</p>
</td>
<td class="cellrowborder" valign="top" width="8.290000000000001%" headers="mcps1.1.5.1.4 "><p id="p14153105818311"><a name="p14153105818311"></a><a name="p14153105818311"></a>否</p>
</td>
</tr>
</tbody>
</table>

## 请求样例<a name="section41799205715"></a>

```
GET /v1/{project_id}/stats/domain/traffic/detail?state=BJ
```

## 返回参数<a name="section178683163197"></a>

-   **查询播放流量趋势成功**

    **表 1**  响应Body参数

    <a name="responseParameter"></a>
    <table><thead align="left"><tr id="row13869121661913"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p0870151616195"><a name="p0870151616195"></a><a name="p0870151616195"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p2870161631918"><a name="p2870161631918"></a><a name="p2870161631918"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p687119167197"><a name="p687119167197"></a><a name="p687119167197"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row148691516101916"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p187151661919"><a name="p187151661919"></a><a name="p187151661919"></a>data_list</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1587171651917"><a name="p1587171651917"></a><a name="p1587171651917"></a>Array of <a href="#response_TrafficTimestampData">TrafficTimestampData</a> objects</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p38715164192"><a name="p38715164192"></a><a name="p38715164192"></a>采样数据列表。</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 2**  TrafficTimestampData

    <a name="response_TrafficTimestampData"></a>
    <table><thead align="left"><tr id="row287221671916"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p3874101631918"><a name="p3874101631918"></a><a name="p3874101631918"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p3874916201912"><a name="p3874916201912"></a><a name="p3874916201912"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p187491611914"><a name="p187491611914"></a><a name="p187491611914"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row587361615190"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p6875171661910"><a name="p6875171661910"></a><a name="p6875171661910"></a>timestamp</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p3875131631916"><a name="p3875131631916"></a><a name="p3875131631916"></a>Long</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p4408044173717"><a name="p4408044173717"></a><a name="p4408044173717"></a>采样时间。</p>
    <p id="p287501616190"><a name="p287501616190"></a><a name="p287501616190"></a>Unix时间戳，如1577894400。</p>
    </td>
    </tr>
    <tr id="row16873116181918"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p68767169191"><a name="p68767169191"></a><a name="p68767169191"></a>value</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1487618166199"><a name="p1487618166199"></a><a name="p1487618166199"></a>Long</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p71252508375"><a name="p71252508375"></a><a name="p71252508375"></a>采样值。</p>
    <p id="p387671614193"><a name="p387671614193"></a><a name="p387671614193"></a>单位为byte。</p>
    </td>
    </tr>
    </tbody>
    </table>

-   **查询播放流量趋势失败**

    **表 3**  响应Body参数

    <a name="table118761316151916"></a>
    <table><thead align="left"><tr id="row18877201621913"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p6878516161919"><a name="p6878516161919"></a><a name="p6878516161919"></a>参数</p>
    </th>
    <th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p1687871671915"><a name="p1687871671915"></a><a name="p1687871671915"></a>类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p1987901641918"><a name="p1987901641918"></a><a name="p1987901641918"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row287711661920"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1487931631919"><a name="p1487931631919"></a><a name="p1487931631919"></a>error_code</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p187991615192"><a name="p187991615192"></a><a name="p187991615192"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p88801816101912"><a name="p88801816101912"></a><a name="p88801816101912"></a>错误码。</p>
    </td>
    </tr>
    <tr id="row987761614191"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1880916131912"><a name="p1880916131912"></a><a name="p1880916131912"></a>error_msg</p>
    </td>
    <td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p14881141671911"><a name="p14881141671911"></a><a name="p14881141671911"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1388114165195"><a name="p1388114165195"></a><a name="p1388114165195"></a>错误描述。</p>
    </td>
    </tr>
    </tbody>
    </table>


## 返回样例<a name="section138821116111918"></a>

-   处理成功返回（返回200）

    ```
    {
      "data_list" : [ {
        "value" : 50,
        "timestamp" : 1577894400
      } ]
    }
    ```

-   处理失败返回（其他响应码，如返回400）

    ```
    {
      "error_code" : "LIVE.100011001",
      "error_msg" : "请求参数非法：start_time。"
    }
    ```


## 状态码<a name="section19891111661916"></a>

状态码请参见[状态码](状态码.md)。

## 错误码<a name="section148941116131918"></a>

错误码请参见[错误码](https://apierrorcenter.developer.huaweicloud.com/apierrorcenter/errorcode?product=Live&locale=zh-cn)。

