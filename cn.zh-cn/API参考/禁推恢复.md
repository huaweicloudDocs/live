# 禁推恢复<a name="live_03_0011"></a>

## 功能介绍<a name="section646984323616"></a>

恢复直播推流接口

## 调试<a name="section11470843193617"></a>

您可以在[API Explorer](https://apiexplorer.developer.huaweicloud.com/apiexplorer/doc?product=Live&api=DeleteStreamForbidden)中调试该接口。

## URI<a name="section164717436362"></a>

DELETE /v1/\{project\_id\}/stream/blocks

**表 1**  路径参数

<a name="table9472164312369"></a>
<table><thead align="left"><tr id="row1547120437365"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p247219431367"><a name="p247219431367"></a><a name="p247219431367"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10%" id="mcps1.2.5.1.2"><p id="p247254323610"><a name="p247254323610"></a><a name="p247254323610"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p20473144303615"><a name="p20473144303615"></a><a name="p20473144303615"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.5.1.4"><p id="p14473143103616"><a name="p14473143103616"></a><a name="p14473143103616"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1471743113612"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p184731143153612"><a name="p184731143153612"></a><a name="p184731143153612"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p1474104303620"><a name="p1474104303620"></a><a name="p1474104303620"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p104741643113620"><a name="p104741643113620"></a><a name="p104741643113620"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p247564319366"><a name="p247564319366"></a><a name="p247564319366"></a>项目ID，获取方法请参考<a href="https://support.huaweicloud.com/api-live/live_03_0023.html" target="_blank" rel="noopener noreferrer">获取项目ID</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 2**  Query参数

<a name="table194761943153611"></a>
<table><thead align="left"><tr id="row5475743133614"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p3476134323612"><a name="p3476134323612"></a><a name="p3476134323612"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10%" id="mcps1.2.5.1.2"><p id="p1447654383620"><a name="p1447654383620"></a><a name="p1447654383620"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p11477134317360"><a name="p11477134317360"></a><a name="p11477134317360"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.5.1.4"><p id="p74771343113618"><a name="p74771343113618"></a><a name="p74771343113618"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row9475843113611"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p7477134323612"><a name="p7477134323612"></a><a name="p7477134323612"></a>domain</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p247864320366"><a name="p247864320366"></a><a name="p247864320366"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p13478143203610"><a name="p13478143203610"></a><a name="p13478143203610"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p247814315363"><a name="p247814315363"></a><a name="p247814315363"></a>播放或推流域名</p>
</td>
</tr>
<tr id="row18475204373620"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p047919434363"><a name="p047919434363"></a><a name="p047919434363"></a>app_name</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p1247913435366"><a name="p1247913435366"></a><a name="p1247913435366"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p84798438369"><a name="p84798438369"></a><a name="p84798438369"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p3480144343612"><a name="p3480144343612"></a><a name="p3480144343612"></a>应用名称</p>
</td>
</tr>
<tr id="row124751443173618"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p9480174343618"><a name="p9480174343618"></a><a name="p9480174343618"></a>stream_name</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p1048020439364"><a name="p1048020439364"></a><a name="p1048020439364"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p12481164303611"><a name="p12481164303611"></a><a name="p12481164303611"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p348116437366"><a name="p348116437366"></a><a name="p348116437366"></a>流名称</p>
</td>
</tr>
</tbody>
</table>

## 请求参数<a name="section20481194318367"></a>

**表 3**  请求Header参数

<a name="HeaderParameter"></a>
<table><thead align="left"><tr id="row648214438365"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p34833439366"><a name="p34833439366"></a><a name="p34833439366"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="10%" id="mcps1.2.5.1.2"><p id="p0483843113615"><a name="p0483843113615"></a><a name="p0483843113615"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p11483943173616"><a name="p11483943173616"></a><a name="p11483943173616"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.5.1.4"><p id="p34841043103617"><a name="p34841043103617"></a><a name="p34841043103617"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row34822430360"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1484243173617"><a name="p1484243173617"></a><a name="p1484243173617"></a>X-Auth-Token</p>
</td>
<td class="cellrowborder" valign="top" width="10%" headers="mcps1.2.5.1.2 "><p id="p6484134314367"><a name="p6484134314367"></a><a name="p6484134314367"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p14857432368"><a name="p14857432368"></a><a name="p14857432368"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.5.1.4 "><p id="p13485164373617"><a name="p13485164373617"></a><a name="p13485164373617"></a>用户Token。 通过调用IAM服务获取用户Token接口获取（响应消息头中X-Subject-Token的值）。</p>
</td>
</tr>
</tbody>
</table>

## 响应参数<a name="section194851443173620"></a>

**状态码为 400 时:**

**表 4**  响应Body参数

<a name="responseParameter"></a>
<table><thead align="left"><tr id="row748614383615"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p6487543203619"><a name="p6487543203619"></a><a name="p6487543203619"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p4487114373611"><a name="p4487114373611"></a><a name="p4487114373611"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p124881743193610"><a name="p124881743193610"></a><a name="p124881743193610"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row848684314369"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p1048824363614"><a name="p1048824363614"></a><a name="p1048824363614"></a>error_code</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p10488114333619"><a name="p10488114333619"></a><a name="p10488114333619"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p1248954363613"><a name="p1248954363613"></a><a name="p1248954363613"></a>错误码</p>
</td>
</tr>
<tr id="row7486243143613"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p13489543103616"><a name="p13489543103616"></a><a name="p13489543103616"></a>error_msg</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p20489124311368"><a name="p20489124311368"></a><a name="p20489124311368"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p174901643143611"><a name="p174901643143611"></a><a name="p174901643143611"></a>错误描述</p>
</td>
</tr>
</tbody>
</table>

## 请求示例<a name="section5490104373610"></a>

```
DELETE https://{endpoint}/v1/{project_id}/stream/blocks?domain=publish.example.huawei.com&app_name=live&stream_name=test_001
```

## 响应示例<a name="section64911343113617"></a>

**状态码为 400 时:**

禁推恢复操作失败

```
{
  "error_code" : "LIVE.100011001",
  "error_msg" : "Request Illegal"
}
```

## 状态码<a name="section24931438361"></a>

<a name="table2064"></a>
<table><thead align="left"><tr id="row74941043123615"><th class="cellrowborder" valign="top" width="15%" id="mcps1.1.3.1.1"><p id="p049454314364"><a name="p049454314364"></a><a name="p049454314364"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="85%" id="mcps1.1.3.1.2"><p id="p1849454343610"><a name="p1849454343610"></a><a name="p1849454343610"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row11494343123615"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p349514431364"><a name="p349514431364"></a><a name="p349514431364"></a>204</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p7495943193614"><a name="p7495943193614"></a><a name="p7495943193614"></a>禁推恢复操作成功</p>
</td>
</tr>
<tr id="row8494174323610"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p849544323613"><a name="p849544323613"></a><a name="p849544323613"></a>400</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p1049634313369"><a name="p1049634313369"></a><a name="p1049634313369"></a>禁推恢复操作失败</p>
</td>
</tr>
</tbody>
</table>

## 错误码<a name="section6496443123615"></a>

请参见[错误码](错误码.md)。

